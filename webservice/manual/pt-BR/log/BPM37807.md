# Aplicativos Conectados (OAuth Client) com provedor RD Station
26/05/2025
## Melhoria
## Referência: BPM37807
## Módulo: Configurações
***

**Adicionada nova opção de integração na tela _Aplicativos Conectados (OAuth Client)_, permitindo integração com a RD Station.**

Para configurar e autenticar com a API da RD Station, siga os passos abaixo:

---

#### 1. Criar um aplicativo na RD Station

Acesse a página de criação de aplicativos da RD Station. No menu **Meus APPs**, crie um novo aplicativo (ou reutilize um já existente).

---

#### 2. Informar a URL de Callback

Durante a criação do aplicativo na página da RD Station, no último campo será necessário informar a **URL de Callback**.

Essa URL deverá ser obtida no **Next BP**:

- Acesse: `Configurações > Integração > Aplicativos Conectados (OAuth Client)`;
- Adicione uma nova linha;
- Preencha os campos **Nome** e **Provedor** (selecione **RD Station**);
- Clique em **Salvar**.

Após salvar, será gerada automaticamente a **URL de Redirecionamento**, que deve ser copiada e colada no campo **URLs de Callback** da plataforma da RD Station.

---

#### 3. Obter Client ID e Client Secret

Depois de colar a URL na RD Station, clique em **Salvar e Avançar**. A plataforma irá gerar o **Client ID** e o **Client Secret**.

Copie essas credenciais e cole nos respectivos campos da tela de integrações do Next BP. Em seguida, clique em **Salvar** novamente para atualizar as informações.

---

#### 4. Solicitar acesso

Na tela **Aplicativos Conectados (OAuth Client)** no **Next BP**, no canto direito da linha do aplicativo cadastrado, clique no botão **Solicitar Acesso**.

Você será redirecionado para a página de autorização da RD Station. Após autorizar, a coluna **Expira em** será atualizada com a data de expiração do token.

---

#### 5. Atualização automática do token

A autorização é válida por **24 horas**. Para renovar é possível realizar a atualização manualmente pela opção **Atualizar Token Expirado** na tela _Aplicativos Conectados (OAuth Client)_.

---

#### NOTA:

Embora seja possível cadastrar mais de um aplicativo, **a integração funcionará apenas com um único aplicativo ativo**.

Mesmo que apenas um aplicativo RD Station esteja cadastrado no Next BP, é necessário informar o ID desse aplicativo padrão (obtido diretamente via banco de dados, na tabela `oauth_client`) 

**Parâmetro** (system.config): APLICATIVO_PADRAO_RD_STATION_ID

