"use strict";define(["react","react-dom"],function(o,s){class r extends o.Component{constructor(o){super(o),this.state={LabelCampo:null},this.props.UsuarioSelecionado=null,this.props.FunctionSelect=null,this.props.ObjParam={EquipeInterna:!1,ClienteId:-1,EmpresaId:-1,Clientes:!1,Fornecedores:!1,Prospects:!1,ExibirTecnicos:!1,ExibirApenasTecnicos:!1,ExibirApenasSupervisionados:!1,Modulo:null,ExibirGrupos:!1,LabelCampo:null,ArrUsuarios:[],ArrGrupoUsuarios:[],LimpaConteudoAposSelecionar:!1},this.props.setObjParam=o=>{for(var s in o)o.hasOwnProperty(s)&&this.props.ObjParam.hasOwnProperty(s)&&(this.props.ObjParam[s]=o[s],"LabelCampo"==s&&this.setState({LabelCampo:o[s]}))},this.props.setUsuario=o=>{set_value_combobox($(this.refs.cbo_usuario),o.usuario_id,o.usuario_nome)},this.props.setCampoUsuarioLeitura=o=>{let s=$(this.refs.cbo_usuario).parent(),r=s.find(".edt_combobox"),a=s.find("button");$(r).attr("disabled",o),$(r).attr("readonly",o),$(a).attr("disabled",o)},this.props.setFunctionSelect=o=>{this.props.FunctionSelect=o}}componentDidMount(){this.CriarCombobox()}ListarUsuarios(o,s,r){let a=s.parent().find(".edt_combobox");var e=new Object;e.nome=a.val(),e.cliente_id=r.props.ObjParam.ClienteId,e.equipe_interna=r.props.ObjParam.EquipeInterna,e.clientes=r.props.ObjParam.Clientes,e.fornecedores=r.props.ObjParam.Fornecedores,e.prospects=r.props.ObjParam.Prospects,e.considera_tecnico=r.props.ObjParam.ExibirTecnicos,e.apenas_tecnico=r.props.ObjParam.ExibirApenasTecnicos,e.apenas_supervisionados=r.props.ObjParam.ExibirApenasSupervisionados,e.modulo=r.props.ObjParam.Modulo,e.listar_grupos=r.props.ObjParam.ExibirGrupos,e.arr_usuarios=r.props.ObjParam.ArrUsuarios,e.arr_grupo_usuarios=r.props.ObjParam.ArrGrupoUsuarios,e.limpa_conteudo_apos_selecionar=r.props.ObjParam.LimpaConteudoAposSelecionar,WS.get("usuario/listar_usuarios_grupos/",e,function(a){limpar_combobox(s),$(a).each(function(o,r){var a=[];a.Nome=r.nome;var i=$('<span class="label lb_tipo" style="margin: 5px;"></span>');i.attr("tipo",r.tipo),"usuarios"==r.tipo?(i.addClass("label-info"),i.text("U")):"grupo_usuarios"==r.tipo?(i.text("GU"),i.addClass("label-warning")):"usuario_cliente"==r.tipo?(i.text("C"),i.addClass("label-primary")):"usuario_prospect"==r.tipo?(i.text("O"),i.addClass("label-primary")):"usuario_fornecedor"==r.tipo&&(i.text("F"),i.addClass("label-primary")),i.tooltip(),add_option_combobox(s,o,r.id>0?r.id:null,a,i,JSON.stringify(r),null,null,e.limpa_conteudo_apos_selecionar)}),o(!0),s.parent().find(".ul_row").click(function(){let o=$(this).parent().attr("dados-adicionais")?JSON.parse($(this).parent().attr("dados-adicionais")):null;r.props.UsuarioSelecionado=o,null!=r.props.FunctionSelect&&o&&r.props.FunctionSelect()})})}CriarCombobox(){create_combobox($(this.refs.cbo_usuario),this.ListarUsuarios,null,null,this),$(this.refs.cbo_usuario).parent().find(".edt_combobox").keypress(o=>{if(13==o.keyCode){let o=$(this.refs.cbo_usuario).parent().find(".ncbo_scroll").find(".row_selected"),s=o.attr("dados-adicionais")?JSON.parse(o.attr("dados-adicionais")):null;this.props.UsuarioSelecionado=s,null!=this.props.FunctionSelect&&s&&(this.props.FunctionSelect(),this.props.ObjParam.LimpaConteudoAposSelecionar&&$(this.refs.cbo_usuario).parent().find(".edt_combobox").val(""))}})}render(){let s=null;return null!=this.state.LabelCampo&&(s=o.createElement("label",null,this.state.LabelCampo)),o.createElement("div",null,s||"",o.createElement("select",{ref:"cbo_usuario",class:"select-multi-column",placeholder:"Digite o nome"}))}}return r});