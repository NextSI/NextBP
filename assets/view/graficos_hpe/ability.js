define([],function(){return function(t){"use strict";var a=this;this.html_id=t,this.dialog=$("#"+this.html_id),this.modal=this.dialog.find(".modal"),this.modal.attr("id",this.html_id+"_modal"),this.title="ProfitAbility",this.tipo=null,this.onclose=null,this.onsave=null,this.edt_nome=this.dialog.find(".edt_nome"),this.btn_cancelar=this.dialog.find(".btn_cancelar"),this.btn_salvar=this.dialog.find(".btn_salvar"),this.btn_excluir=this.dialog.find(".btn_excluir"),this.area_id=null,this.show=function(t,a,i,e){var o=420,n=t,l=a,c=i,s=e,d=n/100*400,h=l/100*420,r=c/100*400,_=s/100*420;d=o-d,h=90+h,r=o-r,_=90+_,$($(".data .ponto_atual")).attr({cx:Math.ceil(h),cy:Math.ceil(d)}),$($(".data .ponto_desejado")).attr({cx:Math.ceil(_),cy:Math.ceil(r)}),$(".texto_atuacao").attr({x:100,y:100,text:"A"}),$(".ae_desejado").attr({"font-size":15,x:_,y:r-20}).text("AE: "+c+"%"),$(".ce_desejado").attr({"font-size":15,x:_,y:r-8}).text("CE: "+s+"%"),$(".ae_atual").attr({"font-size":15,x:h,y:d-20}).text("AE: "+n+"%"),$(".ce_atual").attr({"font-size":15,x:h,y:d-8}).text("CE: "+l+"%");var u=$(".fundo_atual"),f=$(".fundo_desejado");u.attr({x:_-55,y:r-35}),f.attr({x:h-55,y:d-35}),$(".linha_competencia_atual").attr({x1:90,x2:Math.ceil(h),y1:Math.ceil(d),y2:Math.ceil(d)}),$(".linha_atuacao_atual").attr({x1:Math.ceil(h),x2:Math.ceil(h),y1:o,y2:Math.ceil(d)}),$(".linha_competencia_desejado").attr({x1:90,x2:Math.ceil(_),y1:Math.ceil(r),y2:Math.ceil(r)}),$(".linha_atuacao_desejado").attr({x1:Math.ceil(_),x2:Math.ceil(_),y1:o,y2:Math.ceil(r)})},this.close=function(){close_modal(a.modal.attr("id")),void 0!==a.onclose&&a.onclose&&a.onclose()},this.unload=function(){a.close(),View.unload(this.html_id)},this.permite_alterar=function(t){a.edt_nome.prop("readonly",!t)},this.preencher=function(){WS.get("area_foco/objeto/",{area_id:a.area_id},function(t){a.edt_nome.val(t.nome)})},this.btn_cancelar.unbind("click"),this.btn_cancelar.click(function(){a.unload()}),this.btn_salvar.unbind("click"),this.btn_salvar.click(function(){WS.post("area_foco/salvar/",{area_id:a.area_id,nome:a.edt_nome.val()},function(t){a.area_id=t.id,alert_saved(t.nome+" salvo com sucesso"),void 0!==a.onsave&&a.onsave&&a.onsave(t),a.unload()})}),this.btn_excluir.unbind("click"),this.btn_excluir.click(function(){WS.post("area_foco/excluir",{area_id:a.area_id},function(t){alert_saved(t.nome+" excluido com sucesso"),a.unload()})})}});