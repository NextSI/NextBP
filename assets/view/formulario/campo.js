define(["react","react-dom","./../central_documentos/SelectPasta"],function(o,a,i){return function(e){"use strict";var t=this;this.html_id=e,this.dialog=$("#"+this.html_id),this.popup=null,this.modal=this.dialog.find(".modal"),this.modal.attr("id",this.html_id+"_modal"),this.title=this.modal.find(".modal-title"),this.tipo=null,this.onclose=null,this.onsave=null,this.onremove=null,this.div_nome_campo=this.dialog.find(".div_nome_campo"),this.edt_nome=this.dialog.find(".edt_nome"),this.tr_obrigatorio=this.dialog.find(".tr_obrigatorio"),this.selectBox_obrigatorio=this.dialog.find(".selectBox_obrigatorio"),this.btn_obrigatorio_condicao=this.dialog.find(".btn_obrigatorio_condicao"),this.tr_bloqueado=this.dialog.find(".tr_bloqueado"),this.selectBox_bloqueado=this.dialog.find(".selectBox_bloqueado"),this.btn_bloqueado_condicao=this.dialog.find(".btn_bloqueado_condicao"),this.tr_oculto=this.dialog.find(".tr_oculto"),this.selectBox_oculto=this.dialog.find(".selectBox_oculto"),this.btn_oculto_condicao=this.dialog.find(".btn_oculto_condicao"),this.cbo_tipo=this.dialog.find(".cbo_tipo"),this.div_tamanho=this.dialog.find(".div_tamanho"),this.edt_tamanho=this.dialog.find(".edt_tamanho"),this.div_linhas=this.dialog.find(".div_linhas"),this.edt_linhas=this.dialog.find(".edt_linhas"),this.div_decimais=this.dialog.find(".div_decimais"),this.edt_decimais=this.dialog.find(".edt_decimais"),this.div_opcoes=this.dialog.find(".div_opcoes"),this.grid_valores=this.dialog.find(".grid_valores"),this.grid_extensoes=this.dialog.find(".grid_extensoes"),this.div_anexo=this.dialog.find(".div_anexo"),this.cbo_assunto=this.dialog.find(".cbo_assunto"),this.btn_assunto_visualizar=this.dialog.find(".btn_assunto_visualizar"),this.btn_assunto_novo=this.dialog.find(".btn_assunto_novo"),this.cbo_tipo_documento=this.dialog.find(".cbo_tipo_documento"),this.btn_tipo_documento_visualizar=this.dialog.find(".btn_tipo_documento_visualizar"),this.btn_tipo_documento_novo=this.dialog.find(".btn_tipo_documento_novo"),this.div_colunas=this.dialog.find(".div_colunas"),this.edt_colunas=this.dialog.find(".edt_colunas"),this.div_mascara=this.dialog.find(".div_mascara"),this.edt_mascara=this.dialog.find(".edt_mascara"),this.div_texto_fixo=this.dialog.find(".div_texto_fixo"),this.edt_texto_fixo=this.dialog.find(".edt_texto_fixo"),this.div_texto_ajuda=this.dialog.find(".div_texto_ajuda"),this.edt_texto_ajuda=this.dialog.find(".edt_texto_ajuda"),this.div_cabecalho=this.dialog.find(".div_cabecalho"),this.tr_exibir_previsao_imagem=this.dialog.find(".tr_exibir_previsao_imagem"),this.chk_exibir_previsao_imagem=this.dialog.find(".chk_exibir_previsao_imagem"),this.tr_apagar_arquivo_conclusao=this.dialog.find(".tr_apagar_arquivo_conclusao"),this.chk_apagar_arquivo_conclusao=this.dialog.find(".chk_apagar_arquivo_conclusao"),this.chk_quebrar_linha=this.dialog.find(".chk_quebrar_linha"),this.chk_exibir_descricao=this.dialog.find(".chk_exibir_descricao"),this.chk_exibir_coluna=this.dialog.find(".chk_exibir_coluna"),this.chk_exibir_impressao=this.dialog.find(".chk_exibir_impressao"),this.chk_selecao_multipla_integracao=this.dialog.find(".chk_selecao_multipla_integracao"),this.chk_habilitar_historico_texto=this.dialog.find(".chk_habilitar_historico_texto"),this.tr_exibir_descricao=this.dialog.find(".tr_exibir_descricao"),this.tr_exibir_coluna=this.dialog.find(".tr_exibir_coluna"),this.tr_exibir_impressao=this.dialog.find(".tr_exibir_impressao"),this.tr_selecao_multipla_integracao=this.dialog.find(".tr_selecao_multipla_integracao"),this.tr_habilitar_historico_texto=this.dialog.find(".tr_habilitar_historico_texto"),this.cbo_totalizador=this.dialog.find(".cbo_totalizador"),this.div_totalizador=this.dialog.find(".div_totalizador"),this.div_integracao=this.dialog.find(".div_integracao"),this.edt_id_elemento=this.dialog.find(".edt_id_elemento"),this.cbo_consulta_integracao=this.dialog.find(".cbo_consulta_integracao"),this.btn_visualizar_consulta=this.dialog.find(".btn_visualizar_consulta"),this.btn_nova_consulta=this.dialog.find(".btn_nova_consulta"),this.cbo_colunas=this.dialog.find(".cbo_colunas"),this.div_integracao_consulta=this.dialog.find(".div_integracao_consulta"),this.div_documento=this.dialog.find(".div_documento"),this.div_pasta=this.dialog.find(".div_pasta"),this.selectPasta=o.createElement(i,null,null),this.div_width=this.dialog.find(".div_width"),this.edt_tamanho_coluna=this.dialog.find(".edt_tamanho_coluna"),this.div_tipo_opcoes=this.dialog.find(".div_tipo_opcoes"),this.chk_option=this.dialog.find(".chk_option"),this.chk_option_multiplas=this.dialog.find(".chk_option_multiplas"),this.check_tipo_opcoes=this.dialog.find(".check_tipo_opcoes"),this.chk_radio=this.dialog.find(".chk_radio"),this.chk_verificacao=this.dialog.find(".chk_verificacao"),this.div_tipo_opcoes=this.dialog.find(".div_tipo_opcoes"),this.div_data=this.dialog.find(".div_data"),this.chk_retroativo=this.dialog.find(".chk_retroativo"),this.chk_retroativo_igual=this.dialog.find(".chk_retroativo_igual"),this.list_clicar=this.dialog.find(".list_clicar"),this.div_clicar=this.dialog.find(".div_clicar"),this.edt_clicar=this.dialog.find(".edt_clicar"),this.list_selecionar=this.dialog.find(".list_selecionar"),this.list_limpar=this.dialog.find(".list_limpar"),this.div_elementos=this.dialog.find(".div_elementos"),this.div_selecionar=this.dialog.find(".div_selecionar"),this.div_limpar=this.dialog.find(".div_limpar"),this.template_elemento=this.dialog.find('[template-field="elemento"]'),this.div_opcoes_evento=this.dialog.find(".div_opcoes_evento"),this.edt_limpar=this.dialog.find(".edt_limpar"),this.edt_selecionar=this.dialog.find(".edt_selecionar"),this.table_condicao_integracao=this.dialog.find(".table_condicao_integracao"),this.list_alterar=this.dialog.find(".list_alterar"),this.div_alterar=this.dialog.find(".div_alterar"),this.edt_alterar=this.dialog.find(".edt_alterar"),this.campo_id_duplicado=this.dialog.find(".campo_id_duplicado"),this.btn_remover=this.dialog.find(".btn_remover"),this.edt_style=this.dialog.find(".edt_style"),this.btn_add_condicao_integracao=this.dialog.find(".btn_add_condicao_integracao"),this.btn_fullscreen_estilo=this.dialog.find(".btn_fullscreen_estilo"),this.btn_fullscreen_selecionar=this.dialog.find(".btn_fullscreen_selecionar"),this.btn_fullscreen_limpar=this.dialog.find(".btn_fullscreen_limpar"),this.btn_fullscreen_clicar=this.dialog.find(".btn_fullscreen_clicar"),this.btn_fullscreen_alterar=this.dialog.find(".btn_fullscreen_alterar"),this.div_campo_personalizado=this.dialog.find(".div_campo_personalizado"),this.tipo_lista_opcoes=null,this.dxDiagram=null,this.campo_opcoes_data_source=[],this.campo_opcoes=[],this.campo_opcoes_padrao=[];var d=[{id:"S",descricao:"Sim"},{id:"N",descricao:"Não"},{id:"Q",descricao:"Quando"}],l=function(){for(var o=t.selectBox_obrigatorioInstance.option("dataSource"),a=0;a<o.length;a++){(i=o[a]).disabled=null!=t.campo.filter_builder_obrigatorio&&t.campo.filter_builder_obrigatorio.length&&"Q"!=i.id}t.selectBox_obrigatorioInstance.option("dataSource",o);for(o=t.selectBox_bloqueadoInstance.option("dataSource"),a=0;a<o.length;a++){(i=o[a]).disabled=null!=t.campo.filter_builder_bloqueado&&t.campo.filter_builder_bloqueado.length&&"Q"!=i.id}t.selectBox_bloqueadoInstance.option("dataSource",o);for(o=t.selectBox_ocultoInstance.option("dataSource"),a=0;a<o.length;a++){var i;(i=o[a]).disabled=null!=t.campo.filter_builder_oculto&&t.campo.filter_builder_oculto.length&&"Q"!=i.id}t.selectBox_ocultoInstance.option("dataSource",o)},_=function(o){if(o.value)switch(o.value.toString()){case"true":o.component.option("value","S");break;case"false":o.component.option("value","N")}else o.component.option("value","N");o.element.parent().find(".dx-button").dxButton("instance").option("visible","Q"==o.value),l()},c=function(){l()};this.selectBox_obrigatorioInstance=t.selectBox_obrigatorio.dxSelectBox({dataSource:d,displayExpr:"descricao",valueExpr:"id",onValueChanged:_,onOpened:c}).dxSelectBox("instance"),this.selectBox_bloqueadoInstance=t.selectBox_bloqueado.dxSelectBox({dataSource:d,displayExpr:"descricao",valueExpr:"id",onValueChanged:_,onOpened:c}).dxSelectBox("instance"),this.selectBox_ocultoInstance=t.selectBox_oculto.dxSelectBox({dataSource:d,displayExpr:"descricao",valueExpr:"id",onValueChanged:_,onOpened:c}).dxSelectBox("instance"),this.campo={nome:null,tipo:0,tamanho:50,linhas:1,decimais:0,opcoes:null,obrigatorio:!1,bloqueado:!1,oculto:!1,colunas:3,mascara:null,totalizador:0,tipo_totalizador:null,id_elemento:null,coluna_consulta_integracao_id:null,coluna_consulta_integracao_nome:null,consulta_id:null,evento_selecionar:null,evento_limpar:null,evento_alterar:null,evento_alterar_construtor:null,evento_clicar:null,documento_pasta_id:null,banco_dados_nome:null,tamanho_coluna:null,data_retroativa:null,data_retroativa_igual:null,formulario_filtro_id:null,style:null,tipo_lista_opcoes:null,arr_condicoes_integracao:[],arr_condicoes_integracao_em_edicao:[],filter_builder_obrigatorio:null,filter_builder_bloqueado:null,filter_builder_oculto:null,extensoes_campo_anexo:[],ajuda:null},this.campo_de_tabela=!1,this.tabela_id=null,this.arr_grupos=null,this.arr_colunas=null,this.editor=null,this.editor_clicar=null,this.editor_style=null,this.editor_selecionar=null,this.editor_limpar=null,this.permite=null,this.evento_iniciar_construtor={},this.show=function(o,i,e,d,l,_){switch(a.render(t.selectPasta,t.div_pasta[0]),t.tipo=i,t.btn_add_condicao_integracao.attr("disabled",!0),t.arr_grupos=l,t.evento_iniciar_construtor=_||{},t.cbo_totalizador.selectpicker("refresh"),void 0!==o&&o&&(t.campo=o,void 0===o.arr_condicoes_integracao&&(t.campo.arr_condicoes_integracao=[]),void 0===o.arr_condicoes_integracao_em_edicao&&(t.campo.arr_condicoes_integracao_em_edicao=[])),void 0!==e&&e&&(t.campo_de_tabela=e),void 0!==d&&d&&(t.tabela_id=d),i){case FORMULARIO.NOVO:t.btn_remover.hide(),t.permite=!0,t.chk_exibir_impressao.prop("checked",!0);break;case FORMULARIO.EDITAR:t.btn_remover.show(),t.permite=!0;break;case FORMULARIO.VISUALIZAR:t.btn_remover.hide(),t.permite=!1;break;case FORMULARIO.EXCLUIR:t.btn_remover.show(),t.permite=!1}t.editor=monta_editor(t.edt_alterar,"javascript",!t.permite),t.editor_selecionar=monta_editor(t.edt_selecionar,"javascript",!t.permite),t.editor_clicar=monta_editor(t.edt_clicar,"javascript",!t.permite),t.editor_style=monta_editor(t.edt_style,"css",!t.permite),t.editor_limpar=monta_editor(t.edt_limpar,"css",!t.permite),t.permite_alterar(t.permite),t.listar_elementos(),alertaPopUp({titulo:"Campo "+(t.campo&&t.campo.id_elemento?t.campo.id_elemento:"novo"),conteudo:(o,a)=>{setTimeout(()=>{t.popup=a,t.dialog.css("padding","0px"),o.replaceWith(t.dialog),t.dialog.closest(".dx-popup-content").css("padding","0px"),t.preencher(),set_focus(t.edt_nome)})},botaoConfirmarTexto:t.permite?"Ok":null,botaoConfirmarFuncao:t.salvar,botaoCancelarTexto:"Cancelar",botaoCancelarFuncao:t.unload,largura:"calc(100% - 20px)",larguraMinima:"400px",larguraMaxima:"800px",autoClose:!1})},this.listar_documento_pasta=function(o,a){if(o){var i=void 0===a||""===a;t.selectPasta.props.setDocumentoPastaID(o,i)}void 0!==a&&""!==a&&t.selectPasta.props.setDocumentoPastaPath(a),t.selectPasta.props.handleSelecionar=function(){t.campo.documento_pasta_id=t.selectPasta.props.documentoPastaID}},this.listar_elementos=function(){t.div_elementos.find("br").remove(),t.div_elementos.find("span").remove();var o=function(o){if(!o.id_elemento)return!1;var a=t.template_elemento.clone();a.css("display",""),a.text(o.id_elemento),a.appendTo(t.div_elementos),$("<br>").appendTo(t.div_elementos)};o({id_elemento:"obj_solicitacao"}),$(t.arr_grupos).each(function(a,i){$(i.elementos).each(function(a,i){i.tipo==ELEMENTO_TIPO.TABELA?(null!=i.id_elemento&&o(i),$(i.campos).each(function(a,i){null!=i.id_elemento&&o(i)})):null!=i.id_elemento&&o(i)})})},this.render_condicao_integracao=function(o){var a=t.table_condicao_integracao.find("tbody"),i=$(a.find("[template-row]")),e=function(e,d){var l=i.clone();l.addClass("rows").css("display","").removeAttr("template-row");var _,c=$(l.find(".cbo_ligacao")),r=$(l.find(".cbo_coluna")),s=$(l.find(".cbo_condicao")),n=$(l.find(".cbo_campo_form"));_=r,add_option(_,"","Selecione","selected"),$(t.arr_colunas).each(function(o,a){add_option(_,a.nome,a.titulo,"nome="+a.nome)}),function(o){add_option(o,"","Selecione","selected"),add_option(o,"-solicitacao_id-","Solicitação ID"),add_option(o,"-solicitacao_atividade_id-","Solicitação Atividade ID"),extrair_campos(t.arr_grupos).map(function(a){add_option(o,a.id_elemento,a.id_elemento)})}(n),r.addClass("cbo_coluna_atualizar"),c.addClass("selectpicker").selectpicker("refresh"),r.addClass("selectpicker").selectpicker("refresh"),s.addClass("selectpicker").selectpicker("refresh"),n.addClass("selectpicker").selectpicker("refresh"),c.unbind("change").change(function(){d.ligacao=$(this).val(),$(this).selectpicker("refresh"),t.campo.arr_condicoes_integracao_em_edicao[e]=d}),r.unbind("change").change(function(){d.coluna_consulta=$(this).val(),$(this).selectpicker("refresh"),t.campo.arr_condicoes_integracao_em_edicao[e]=d}),s.unbind("change").change(function(){d.condicao=$(this).val(),$(this).selectpicker("refresh"),t.campo.arr_condicoes_integracao_em_edicao[e]=d}),n.unbind("change").change(function(){d.campo_formulario_id=$(this).val(),$(this).selectpicker("refresh"),t.campo.arr_condicoes_integracao_em_edicao[e]=d}),o||(c.val(d.ligacao).trigger("change"),r.val(d.coluna_consulta).trigger("change"),s.val(d.condicao).trigger("change"),n.val(d.campo_formulario_id).trigger("change")),t.campo.arr_condicoes_integracao_em_edicao[e]=d;var h=$(l.find(".btn_excluir_condicao_integracao"));h.unbind("click"),h.click(function(){for(var o=-1,a=0;t.campo.arr_condicoes_integracao_em_edicao.length;a++)if(t.campo.arr_condicoes_integracao_em_edicao[a]===d){o=a;break}l.remove(),t.campo.arr_condicoes_integracao_em_edicao.splice(o,1)}),l.appendTo(a)};o?(o.sequencia=t.campo.arr_condicoes_integracao_em_edicao?t.campo.arr_condicoes_integracao_em_edicao.length:0,e(o.sequencia,o)):$(t.campo.arr_condicoes_integracao_em_edicao).each(function(o,a){e(o,a)}),t.tipo!=FORMULARIO.VISUALIZAR&&t.tipo!=FORMULARIO.EXCLUIR&&t.btn_add_condicao_integracao.attr("disabled",!1)},this.listar_consulta_integracao=function(o){add_option(t.cbo_colunas,"","Nenhum"),t.cbo_colunas.selectpicker("refresh"),t.cbo_consulta_integracao.find("option").remove(),add_option(t.cbo_consulta_integracao,"","Nenhuma"),WS.get("consulta_integracao/listar/",null,function(a){for(var i=0;i<a.length;i++){var e=a[i];add_option(t.cbo_consulta_integracao,e.consulta_id,e.nome,'banco_dados_nome="'+e.banco_dados_nome+'"')}o&&t.cbo_consulta_integracao.val(o).trigger("change"),t.cbo_consulta_integracao.selectpicker("refresh")})},this.listar_colunas=function(o,a){t.cbo_colunas.find("option").remove(),add_option(t.cbo_colunas,"","Nenhum"),WS.get("coluna_consulta_integracao/listar/",{consulta_id:a},function(a){t.arr_colunas=a;for(var i=0;i<a.length;i++){var e=a[i];add_option(t.cbo_colunas,e.coluna_id,e.titulo,"nome="+e.nome)}if(o)t.render_condicao_integracao(),t.cbo_colunas.val(o).trigger("change");else{var d=$(".cbo_coluna_atualizar");if(d.length>0)for(i=0;i<d.length;i++){var l=$(d[i]);l.find("option").remove(),add_option(l,"","Selecione","selected");for(var _=0;_<a.length;_++){e=a[i];add_option(l,e.coluna_id,e.titulo,"nome="+e.nome)}l.selectpicker("refresh")}}t.cbo_colunas.selectpicker("refresh")})},this.close=function(){close_modal(t.modal.attr("id")),void 0!==t.onclose&&t.onclose&&t.onclose()},this.unload=function(){t.close(),View.unload(t.html_id),t.popup.hide()},this.permite_alterar=function(o){for(var a=!1,i=0;i<t.arr_grupos.length;i++)for(var e=t.arr_grupos[i],d=0;d<e.elementos.length;d++){var l=e.elementos[d];void 0!==l.id_elemento&&t.campo.id_elemento&&t.campo.id_elemento.toLowerCase()==l.id_elemento.toLowerCase()&&t.campo.elem_key!=l.elem_key&&(a=!0,t.campo_id_duplicado.removeClass("hidden"))}t.edt_nome.prop("readonly",!o),t.edt_texto_ajuda.prop("readonly",!o),t.selectBox_obrigatorioInstance.option("disabled",!o),t.selectBox_bloqueadoInstance.option("disabled",!o),t.selectBox_ocultoInstance.option("disabled",!o),t.cbo_tipo.prop("disabled",!o||t.tipo==FORMULARIO.EDITAR),t.edt_tamanho.prop("readonly",!o),t.edt_linhas.prop("readonly",!o),t.edt_decimais.prop("readonly",!o),t.cbo_assunto.prop("disabled",!o),t.btn_assunto_visualizar.prop("disabled",!o),t.btn_assunto_novo.prop("disabled",!o),t.cbo_tipo_documento.prop("disabled",!o),t.btn_tipo_documento_visualizar.prop("disabled",!o),t.btn_tipo_documento_novo.prop("disabled",!o),t.edt_colunas.prop("readonly",!o),t.edt_mascara.prop("readonly",!o),t.cbo_totalizador.prop("readonly",!o),t.edt_id_elemento.prop("disabled",!o||t.tipo==FORMULARIO.EDITAR&&t.campo.id_elemento&&!a),t.cbo_consulta_integracao.prop("readonly",!o),t.edt_tamanho_coluna.prop("readonly",!o),t.btn_add_condicao_integracao.prop("disabled",!o),t.table_condicao_integracao.find(".btn_excluir_condicao_integracao").prop("disabled",!o),t.table_condicao_integracao.find(".cbo_ligacao").prop("disabled",!o),t.table_condicao_integracao.find(".cbo_coluna").prop("disabled",!o),t.table_condicao_integracao.find(".cbo_condicao").prop("disabled",!o),t.table_condicao_integracao.find(".cbo_campo_form").prop("disabled",!o)},this.preencher_valores=function(){const i={fnGetInstanceDatagrid:t.fnGetInstanceDatagrid,dataSource:t.campo.extensoes_campo_anexo||[]};a.render(o.createElement(window.components.ExtensoesCampoAnexo.default,i),t.grid_extensoes[0]);var e=document.createElement("div");e.className="div_grid_valores",e.style="min-width: 100%;",t.grid_valores.find(".div_grid_valores").remove(),t.grid_valores[0].appendChild(e),t.campo_opcoes_data_source=[],$(t.campo_opcoes).each(function(o,a){var i=!1;Array.isArray(t.campo_opcoes_padrao)&&t.campo_opcoes_padrao.indexOf(a)>=0&&(i=!0),t.campo_opcoes_data_source.push({valor:a,padrao:i})}),t.dxDataGridValores=t.grid_valores.find(".div_grid_valores").dxDataGrid({height:"215px",dataSource:t.campo_opcoes_data_source,columns:[{dataField:"valor",dataType:"text",caption:"Opção"},{dataField:"padrao",caption:"Padrão",width:100,dataType:"boolean"}],showBorders:!0,editing:{mode:"cell",allowUpdating:!0,allowAdding:!0,allowDeleting:!0,useIcons:!0},onInitNewRow:function(o){o.data.padrao=!1},scrolling:{mode:"virtual"},sorting:{mode:"none"},rowDragging:{allowReordering:!0,showDragIcons:!0,onReorder:function(o){var a=o.component.getVisibleRows(),i=t.campo_opcoes_data_source.indexOf(a[o.toIndex].data),e=t.campo_opcoes_data_source.indexOf(o.itemData);t.campo_opcoes_data_source.splice(e,1),t.campo_opcoes_data_source.splice(i,0,o.itemData),o.component.refresh()}}})},this.preencher=function(){switch(t.campo.arr_condicoes_integracao_em_edicao=clone_obj(t.campo.arr_condicoes_integracao),t.campo.tipo!=ELEMENTO_TIPO.TEXTO_FIXO&&t.edt_nome.val(t.campo.nome),t.edt_texto_fixo.attr("id","modal_formulario_campo_edt_texto_fixo"+t.html_id),set_tinymce(t.edt_texto_fixo,t.campo.nome,!t.permite),t.edt_texto_ajuda.val(t.campo.ajuda),t.cbo_tipo.val(t.campo.tipo).trigger("change"),t.cbo_totalizador.val(t.campo.tipo_totalizador).trigger("change"),t.edt_tamanho.val(t.campo.tamanho),t.edt_linhas.val(t.campo.linhas||1),t.edt_decimais.val(t.campo.decimais),parseInt(t.campo.tipo_lista_opcoes,10)){case TIPO_LISTA_OPCOES.OPTION:t.chk_option.prop("checked",!0).trigger("click");break;case TIPO_LISTA_OPCOES.OPTION_MULTIPLAS:t.chk_option_multiplas.prop("checked",!0).trigger("click");break;case TIPO_LISTA_OPCOES.RADIO:t.chk_radio.prop("checked",!0).trigger("click");break;case TIPO_LISTA_OPCOES.CHECKBOX:t.chk_verificacao.prop("checked",!0).trigger("click");break;default:t.chk_option.prop("checked",!0).trigger("click")}t.editor_style.getDoc().setValue(null==t.campo.style?"":t.campo.style),t.editor_clicar.getDoc().setValue(null==t.campo.evento_clicar?"":t.campo.evento_clicar),t.editor_selecionar.getDoc().setValue(null==t.campo.evento_selecionar?"":t.campo.evento_selecionar),t.editor_limpar.getDoc().setValue(null==t.campo.evento_limpar?"":t.campo.evento_limpar),t.editor.getDoc().setValue(null==t.campo.evento_alterar?"":t.campo.evento_alterar),t.edt_id_elemento.val(t.campo.id_elemento),void 0!==t.campo.opcoes&&Array.isArray(t.campo.opcoes)&&(t.campo_opcoes=clone_obj(t.campo.opcoes)),void 0!==t.campo.opcoes_padrao&&Array.isArray(t.campo.opcoes_padrao)&&(t.campo_opcoes_padrao=clone_obj(t.campo.opcoes_padrao)),t.preencher_valores(),t.selectBox_obrigatorioInstance.option("value",t.campo.obrigatorio),t.selectBox_bloqueadoInstance.option("value",t.campo.bloqueado),t.selectBox_ocultoInstance.option("value",t.campo.oculto);var o=t.chk_retroativo.prop("disabled");t.chk_retroativo.prop("disabled",!1),t.campo.data_retroativa&&"true"===t.campo.data_retroativa.toString()&&t.chk_retroativo.prop("checked",!0).trigger("change"),t.chk_retroativo.prop("disabled",o);var a=t.chk_retroativo_igual.prop("disabled");t.chk_retroativo_igual.prop("disabled",!1),t.campo.data_retroativa_igual&&"true"===t.campo.data_retroativa_igual.toString()&&t.chk_retroativo_igual.prop("checked",!0).trigger("change"),t.chk_retroativo_igual.prop("disabled",a),t.edt_colunas.val(t.campo.colunas),t.edt_mascara.val(t.campo.mascara),t.chk_exibir_descricao.prop("checked",t.campo.exibir_descricao).change(),t.chk_quebrar_linha.prop("checked",t.campo.quebrar_linha).change(),t.chk_exibir_coluna.prop("checked",t.campo.exibir_coluna).change(),t.chk_exibir_impressao.prop("checked",void 0===t.campo.exibir_impressao||t.campo.exibir_impressao).change(),t.chk_selecao_multipla_integracao.prop("checked",void 0!==t.campo.selecao_multipla_integracao&&null!==t.campo.selecao_multipla_integracao&&t.campo.selecao_multipla_integracao).trigger("change"),t.chk_habilitar_historico_texto.prop("checked",void 0!==t.campo.habilitar_historico_texto&&null!==t.campo.habilitar_historico_texto&&t.campo.habilitar_historico_texto).trigger("change"),t.chk_exibir_previsao_imagem.prop("checked",void 0!==t.campo.exibir_previsao_imagem&&t.campo.exibir_previsao_imagem).change(),t.chk_apagar_arquivo_conclusao.prop("checked",void 0!==t.campo.apagar_arquivo_conclusao&&t.campo.apagar_arquivo_conclusao).change(),t.edt_tamanho_coluna.val(t.campo.tamanho_coluna),t.campo_de_tabela&&(t.div_colunas.hide(),t.campo.tipo!=ELEMENTO_TIPO.BOTAO&&t.div_totalizador.removeClass("hidden"),t.div_width.removeClass("hidden"))},this.listar_assunto=function(o){t.cbo_assunto.find("option").remove(),add_option(t.cbo_assunto,"","Nenhum"),WS.get("assunto/listar/",null,function(a){for(var i=0;i<a.length;i++){var e=a[i];add_option(t.cbo_assunto,e.assunto_id,e.descricao)}o&&t.cbo_assunto.val(o).trigger("change")})},this.listar_tipo_documento=function(o){t.cbo_tipo_documento.find("option").remove(),add_option(t.cbo_tipo_documento,"","Nenhum"),WS.get("tipo_documento/listar/",null,function(a){for(var i=0;i<a.length;i++){var e=a[i];add_option(t.cbo_tipo_documento,e.tipo_documento_id,e.nome)}o&&t.cbo_tipo_documento.val(o).trigger("change")})},this.radios_tipo_opcoes=function(){!0===t.chk_radio.prop("checked")?t.tipo_lista_opcoes=TIPO_LISTA_OPCOES.RADIO:!0===t.chk_option.prop("checked")?t.tipo_lista_opcoes=TIPO_LISTA_OPCOES.OPTION:!0===t.chk_option_multiplas.prop("checked")?t.tipo_lista_opcoes=TIPO_LISTA_OPCOES.OPTION_MULTIPLAS:!0===t.chk_verificacao.prop("checked")&&(t.tipo_lista_opcoes=TIPO_LISTA_OPCOES.CHECKBOX)},this.localizar_campo_envolvido=function(o,a,i,e){if(o)if("string"==typeof o[0])t.montar_evento_alterar_contrutor(o,a,i,e);else for(var d=0;d<o.length;d++){var l=o[d];"object"==typeof l&&("string"==typeof l[0]?t.montar_evento_alterar_contrutor(l,a,i,e):t.localizar_campo_envolvido(l,a,i,e))}},this.montar_evento_alterar_contrutor=function(o,a,i,e){var d=o[0].split(".");d.length>1&&d.shift(),d=d.join(".");let l=t.campo.id_elemento?t.campo.id_elemento:t.edt_id_elemento.val();o:for(var _=0;_<t.arr_grupos.length;_++)for(var c=t.arr_grupos[_],r=0;r<c.elementos.length;r++){var s=c.elementos[r];if(d==s.id_elemento){var n={};i?(s.evento_alterar_construtor[a+"_"+l]&&delete s.evento_alterar_construtor[a+"_"+l],t.evento_iniciar_construtor[a+"_"+l]&&delete t.evento_iniciar_construtor[a+"_"+l]):(n[a+"_"+l]=e,s.evento_alterar_construtor=spread(s.evento_alterar_construtor?s.evento_alterar_construtor:{},n),t.evento_iniciar_construtor[a+"_"+l]=e);break o}}},this.fnGetInstanceDatagrid=function(o){t.dxDiagram=o},this.check_tipo_opcoes.unbind("click"),this.check_tipo_opcoes.click(function(){t.radios_tipo_opcoes()}),this.cbo_tipo.unbind("change"),this.cbo_tipo.change(function(){switch(t.edt_linhas.val("1"),t.tr_exibir_previsao_imagem.hide(),t.tr_apagar_arquivo_conclusao.hide(),parseInt(t.cbo_tipo.val(),10)){case ELEMENTO_TIPO.TEXTO:t.div_tamanho.show(),t.div_linhas.show(),t.div_decimais.hide(),t.div_opcoes.hide(),t.div_texto_ajuda.show(),t.div_anexo.hide(),t.div_mascara.hide(),t.div_cabecalho.show(),t.div_texto_fixo.hide(),t.edt_tamanho.val("50"),t.div_totalizador.show(),t.cbo_totalizador.find('[value="3"]').hide(),t.cbo_totalizador.find('[value="4"]').hide(),t.cbo_totalizador.selectpicker("refresh"),t.div_integracao.hide(),t.div_data.hide(),t.div_opcoes_evento.find(".active").removeClass("active"),t.list_alterar.addClass("active"),t.list_selecionar.addClass("hidden"),t.list_limpar.addClass("hidden"),t.list_alterar.removeClass("hidden"),t.div_limpar.addClass("hidden"),t.div_selecionar.addClass("hidden"),t.div_alterar.removeClass("hidden"),t.tr_obrigatorio.show(),t.tr_bloqueado.show(),t.tr_oculto.show(),t.tr_exibir_impressao.show(),t.tr_selecao_multipla_integracao.hide(),t.tr_habilitar_historico_texto.hide(),t.div_documento.hide(),t.tr_exibir_descricao.show(),t.campo_de_tabela||t.tr_exibir_coluna.show(),t.div_clicar.addClass("hidden"),t.list_clicar.addClass("hidden"),t.div_tipo_opcoes.hide(),t.div_nome_campo.show();break;case ELEMENTO_TIPO.INTEIRO:t.div_data.hide(),t.div_tamanho.show(),t.div_linhas.hide(),t.div_decimais.hide(),t.div_opcoes.hide(),t.div_texto_ajuda.show(),t.div_anexo.hide(),t.div_mascara.hide(),t.div_cabecalho.show(),t.div_texto_fixo.hide(),t.div_tamanho.hide(),t.edt_tamanho.val("10"),t.div_totalizador.show(),t.cbo_totalizador.find('[value="3"]').show(),t.cbo_totalizador.find('[value="4"]').show(),t.cbo_totalizador.selectpicker("refresh"),t.div_integracao.hide(),t.div_documento.hide(),t.div_opcoes_evento.find(".active").removeClass("active"),t.list_alterar.addClass("active"),t.list_selecionar.addClass("hidden"),t.list_limpar.addClass("hidden"),t.list_alterar.removeClass("hidden"),t.div_limpar.addClass("hidden"),t.div_selecionar.addClass("hidden"),t.div_alterar.removeClass("hidden"),t.tr_obrigatorio.show(),t.tr_bloqueado.show(),t.tr_oculto.show(),t.tr_exibir_impressao.show(),t.tr_selecao_multipla_integracao.hide(),t.tr_habilitar_historico_texto.hide(),t.tr_exibir_descricao.show(),t.campo_de_tabela||t.tr_exibir_coluna.show(),t.div_clicar.addClass("hidden"),t.list_clicar.addClass("hidden"),t.div_tipo_opcoes.hide(),t.div_nome_campo.show();break;case ELEMENTO_TIPO.DECIMAL:t.div_data.hide(),t.div_tamanho.show(),t.div_linhas.hide(),t.div_decimais.show(),t.div_opcoes.hide(),t.div_texto_ajuda.show(),t.div_anexo.hide(),t.div_mascara.hide(),t.div_cabecalho.show(),t.div_tamanho.hide(),t.edt_tamanho.val("10"),t.div_texto_fixo.hide(),t.edt_decimais.val("2"),t.div_totalizador.show(),t.cbo_totalizador.find('[value="3"]').show(),t.cbo_totalizador.find('[value="4"]').show(),t.cbo_totalizador.selectpicker("refresh"),t.div_integracao.hide(),t.div_documento.hide(),t.div_opcoes_evento.find(".active").removeClass("active"),t.list_alterar.addClass("active"),t.list_selecionar.addClass("hidden"),t.list_limpar.addClass("hidden"),t.list_alterar.removeClass("hidden"),t.div_limpar.addClass("hidden"),t.div_selecionar.addClass("hidden"),t.div_alterar.removeClass("hidden"),t.tr_obrigatorio.show(),t.tr_bloqueado.show(),t.tr_oculto.show(),t.tr_exibir_impressao.show(),t.tr_selecao_multipla_integracao.hide(),t.tr_habilitar_historico_texto.hide(),t.tr_exibir_descricao.show(),t.campo_de_tabela||t.tr_exibir_coluna.show(),t.div_clicar.addClass("hidden"),t.list_clicar.addClass("hidden"),t.div_tipo_opcoes.hide(),t.div_nome_campo.show();break;case ELEMENTO_TIPO.OPCOES:t.div_data.hide(),t.div_tamanho.hide(),t.div_linhas.hide(),t.div_decimais.hide(),t.div_opcoes.show(),t.div_texto_ajuda.show(),t.div_anexo.hide(),t.div_cabecalho.show(),t.div_texto_fixo.hide(),t.div_mascara.hide(),t.div_totalizador.show(),t.cbo_totalizador.find('[value="3"]').hide(),t.cbo_totalizador.find('[value="4"]').hide(),t.cbo_totalizador.selectpicker("refresh"),t.div_integracao.hide(),t.div_documento.hide(),t.div_opcoes_evento.find(".active").removeClass("active"),t.list_alterar.addClass("active"),t.list_selecionar.addClass("hidden"),t.list_limpar.addClass("hidden"),t.list_alterar.removeClass("hidden"),t.div_limpar.addClass("hidden"),t.div_selecionar.addClass("hidden"),t.div_alterar.removeClass("hidden"),t.tr_obrigatorio.show(),t.tr_bloqueado.show(),t.tr_oculto.show(),t.tr_exibir_impressao.show(),t.tr_selecao_multipla_integracao.hide(),t.tr_habilitar_historico_texto.hide(),t.tr_exibir_descricao.show(),t.campo_de_tabela||t.tr_exibir_coluna.show(),t.div_clicar.addClass("hidden"),t.list_clicar.addClass("hidden"),t.div_tipo_opcoes.show(),t.div_nome_campo.show();break;case ELEMENTO_TIPO.MASCARA:t.div_data.hide(),t.div_tamanho.show(),t.div_linhas.hide(),t.div_decimais.hide(),t.div_opcoes.hide(),t.div_texto_ajuda.show(),t.div_anexo.hide(),t.div_mascara.show(),t.div_cabecalho.show(),t.div_texto_fixo.hide(),t.edt_tamanho.val("50"),t.div_totalizador.show(),t.cbo_totalizador.find('[value="3"]').hide(),t.cbo_totalizador.find('[value="4"]').hide(),t.cbo_totalizador.selectpicker("refresh"),t.div_integracao.hide(),t.div_documento.hide(),t.tr_exibir_descricao.show(),t.campo_de_tabela||t.tr_exibir_coluna.show(),t.div_opcoes_evento.find(".active").removeClass("active"),t.list_alterar.addClass("active"),t.list_selecionar.addClass("hidden"),t.list_limpar.addClass("hidden"),t.list_alterar.removeClass("hidden"),t.div_limpar.addClass("hidden"),t.div_selecionar.addClass("hidden"),t.div_alterar.removeClass("hidden"),t.tr_obrigatorio.show(),t.tr_bloqueado.show(),t.tr_oculto.show(),t.tr_exibir_impressao.show(),t.tr_selecao_multipla_integracao.hide(),t.tr_habilitar_historico_texto.hide(),t.div_clicar.addClass("hidden"),t.list_clicar.addClass("hidden"),t.div_tipo_opcoes.hide(),t.div_nome_campo.show();break;case ELEMENTO_TIPO.DATA:t.div_data.show(),t.div_tamanho.hide(),t.div_linhas.hide(),t.div_decimais.hide(),t.div_opcoes.hide(),t.div_texto_ajuda.show(),t.div_anexo.hide(),t.div_mascara.hide(),t.div_cabecalho.show(),t.div_texto_fixo.hide(),t.div_totalizador.show(),t.cbo_totalizador.find('[value="3"]').hide(),t.cbo_totalizador.find('[value="4"]').hide(),t.cbo_totalizador.selectpicker("refresh"),t.div_integracao.hide(),t.div_documento.hide(),t.div_opcoes_evento.find(".active").removeClass("active"),t.list_alterar.addClass("active"),t.list_selecionar.addClass("hidden"),t.list_limpar.addClass("hidden"),t.list_alterar.removeClass("hidden"),t.div_limpar.addClass("hidden"),t.div_selecionar.addClass("hidden"),t.div_alterar.removeClass("hidden"),t.tr_obrigatorio.show(),t.tr_bloqueado.show(),t.tr_oculto.show(),t.tr_exibir_impressao.show(),t.tr_selecao_multipla_integracao.hide(),t.tr_habilitar_historico_texto.hide(),t.tr_exibir_descricao.show(),t.campo_de_tabela||t.tr_exibir_coluna.show(),t.div_clicar.addClass("hidden"),t.list_clicar.addClass("hidden"),t.div_tipo_opcoes.hide(),t.div_nome_campo.show();break;case ELEMENTO_TIPO.ANEXO:t.tr_exibir_descricao.show(),t.campo_de_tabela||t.tr_exibir_coluna.hide(),t.div_data.hide(),t.div_tamanho.hide(),t.div_linhas.hide(),t.div_decimais.hide(),t.div_opcoes.hide(),t.div_texto_ajuda.show(),t.div_anexo.show(),t.div_mascara.hide(),t.div_cabecalho.show(),t.div_texto_fixo.hide(),t.div_totalizador.show(),t.listar_assunto(t.campo.assunto_id),t.listar_tipo_documento(t.campo.tipo_documento_id),t.cbo_totalizador.find('[value="3"]').hide(),t.cbo_totalizador.find('[value="4"]').hide(),t.cbo_totalizador.selectpicker("refresh"),t.div_integracao.hide(),t.div_documento.hide(),t.div_opcoes_evento.find(".active").removeClass("active"),t.list_alterar.addClass("active"),t.list_selecionar.addClass("hidden"),t.list_limpar.addClass("hidden"),t.list_alterar.removeClass("hidden"),t.div_limpar.addClass("hidden"),t.div_selecionar.addClass("hidden"),t.div_alterar.removeClass("hidden"),t.tr_obrigatorio.show(),t.tr_bloqueado.show(),t.tr_oculto.show(),t.tr_exibir_impressao.show(),t.tr_selecao_multipla_integracao.hide(),t.tr_habilitar_historico_texto.hide(),t.div_clicar.addClass("hidden"),t.list_clicar.addClass("hidden"),t.div_tipo_opcoes.hide(),t.div_nome_campo.show(),t.tr_exibir_previsao_imagem.show(),t.tr_apagar_arquivo_conclusao.show();break;case ELEMENTO_TIPO.TEXTO_FIXO:t.tr_exibir_descricao.show(),t.campo_de_tabela||t.tr_exibir_coluna.hide(),t.div_data.hide(),t.div_tamanho.hide(),t.div_linhas.hide(),t.div_decimais.hide(),t.div_opcoes.hide(),t.div_texto_ajuda.show(),t.div_cabecalho.hide(),t.div_anexo.hide(),t.div_mascara.hide(),t.div_texto_fixo.show(),t.div_totalizador.hide(),t.div_integracao.hide(),t.div_documento.hide(),t.div_opcoes_evento.find(".active").removeClass("active"),t.list_alterar.addClass("active"),t.list_selecionar.addClass("hidden"),t.list_limpar.addClass("hidden"),t.list_alterar.removeClass("hidden"),t.div_limpar.addClass("hidden"),t.div_selecionar.addClass("hidden"),t.div_alterar.removeClass("hidden"),t.tr_obrigatorio.hide(),t.tr_bloqueado.hide(),t.tr_oculto.hide(),t.tr_exibir_impressao.show(),t.tr_selecao_multipla_integracao.hide(),t.tr_habilitar_historico_texto.hide(),t.div_clicar.addClass("hidden"),t.list_clicar.addClass("hidden"),t.div_tipo_opcoes.hide(),t.div_nome_campo.hide();break;case ELEMENTO_TIPO.INTEGRACAO:t.div_data.hide(),t.div_tamanho.hide(),t.div_linhas.hide(),t.div_decimais.hide(),t.div_opcoes.hide(),t.div_texto_ajuda.show(),t.div_anexo.hide(),t.div_mascara.hide(),t.div_cabecalho.show(),t.div_texto_fixo.hide(),t.div_totalizador.show(),t.cbo_totalizador.find('[value="3"]').hide(),t.cbo_totalizador.find('[value="4"]').hide(),t.cbo_totalizador.selectpicker("refresh"),t.div_documento.hide(),t.list_selecionar.removeClass("hidden"),t.list_limpar.removeClass("hidden"),t.tr_obrigatorio.show(),t.tr_bloqueado.show(),t.tr_oculto.show(),t.tr_exibir_impressao.show(),t.tabela_id?t.tr_selecao_multipla_integracao.show():t.tr_selecao_multipla_integracao.hide(),t.tr_habilitar_historico_texto.hide(),t.list_alterar.addClass("hidden"),t.div_opcoes_evento.find(".active").removeClass("active"),t.list_selecionar.addClass("active"),t.div_selecionar.removeClass("hidden"),t.div_limpar.addClass("hidden"),t.div_alterar.addClass("hidden"),t.tr_exibir_descricao.show(),t.campo_de_tabela||t.tr_exibir_coluna.show(),t.listar_consulta_integracao(t.campo.consulta_id),t.div_clicar.addClass("hidden"),t.list_clicar.addClass("hidden"),t.div_integracao.show(),t.div_tipo_opcoes.hide(),t.div_nome_campo.show();break;case ELEMENTO_TIPO.SELECAO_DOCUMENTO:t.div_documento.show(),t.tr_obrigatorio.show(),t.tr_bloqueado.show(),t.tr_oculto.show(),t.div_texto_ajuda.show(),t.tr_exibir_impressao.show(),t.tr_selecao_multipla_integracao.hide(),t.tr_habilitar_historico_texto.hide(),t.div_data.hide(),t.div_tamanho.hide(),t.div_linhas.hide(),t.div_decimais.hide(),t.div_opcoes.hide(),t.div_anexo.hide(),t.div_mascara.hide(),t.div_cabecalho.show(),t.div_texto_fixo.hide(),t.div_totalizador.show(),t.cbo_totalizador.find('[value="3"]').hide(),t.cbo_totalizador.find('[value="4"]').hide(),t.cbo_totalizador.selectpicker("refresh"),t.list_selecionar.removeClass("hidden"),t.list_limpar.removeClass("hidden"),t.tr_exibir_descricao.show(),t.campo_de_tabela||t.tr_exibir_coluna.hide(),t.list_alterar.addClass("hidden"),t.div_opcoes_evento.find(".active").removeClass("active"),t.list_selecionar.addClass("active"),t.div_selecionar.removeClass("hidden"),t.div_limpar.addClass("hidden"),t.div_alterar.addClass("hidden"),t.div_integracao.hide(),t.listar_documento_pasta(void 0!==t.campo.documento_pasta_id?t.campo.documento_pasta_id:""),t.selectPasta.props.setDesabilitado(!1),t.div_clicar.addClass("hidden"),t.list_clicar.addClass("hidden"),t.div_tipo_opcoes.hide(),t.div_nome_campo.show();break;case ELEMENTO_TIPO.CAIXA_VERIFICACAO:t.div_data.hide(),t.div_tamanho.hide(),t.div_linhas.hide(),t.div_decimais.hide(),t.div_opcoes.hide(),t.div_texto_ajuda.show(),t.div_anexo.hide(),t.div_mascara.hide(),t.div_cabecalho.show(),t.div_texto_fixo.hide(),t.div_totalizador.show(),t.cbo_totalizador.find('[value="3"]').hide(),t.cbo_totalizador.find('[value="4"]').hide(),t.cbo_totalizador.selectpicker("refresh"),t.div_integracao.hide(),t.div_documento.hide(),t.div_opcoes_evento.find(".active").removeClass("active"),t.list_alterar.addClass("active"),t.list_selecionar.addClass("hidden"),t.list_limpar.addClass("hidden"),t.list_alterar.removeClass("hidden"),t.div_limpar.addClass("hidden"),t.div_selecionar.addClass("hidden"),t.div_alterar.removeClass("hidden"),t.tr_obrigatorio.show(),t.tr_bloqueado.show(),t.tr_oculto.show(),t.tr_exibir_impressao.show(),t.tr_selecao_multipla_integracao.hide(),t.tr_habilitar_historico_texto.hide(),t.tr_exibir_descricao.show(),t.campo_de_tabela||t.tr_exibir_coluna.hide(),t.div_clicar.addClass("hidden"),t.list_clicar.addClass("hidden"),t.div_tipo_opcoes.hide(),t.div_nome_campo.show();break;case ELEMENTO_TIPO.BOTAO:t.div_cabecalho.show(),t.div_data.hide(),t.div_tamanho.hide(),t.div_linhas.hide(),t.div_decimais.hide(),t.div_opcoes.hide(),t.div_texto_ajuda.hide(),t.div_anexo.hide(),t.div_mascara.hide(),t.div_texto_fixo.hide(),t.div_integracao.hide(),t.div_documento.hide(),t.div_opcoes_evento.find(".active").removeClass("active"),t.list_clicar.addClass("active"),t.list_clicar.removeClass("hidden"),t.list_selecionar.addClass("hidden"),t.list_limpar.addClass("hidden"),t.list_alterar.addClass("hidden"),t.div_limpar.addClass("hidden"),t.div_selecionar.addClass("hidden"),t.div_alterar.addClass("hidden"),t.div_clicar.removeClass("hidden"),t.tr_obrigatorio.show(),t.tr_bloqueado.show(),t.tr_oculto.hide(),t.tr_exibir_impressao.hide(),t.tr_selecao_multipla_integracao.hide(),t.tr_habilitar_historico_texto.hide(),t.tr_exibir_descricao.hide(),t.campo_de_tabela||t.tr_exibir_coluna.hide(),t.div_tipo_opcoes.hide(),t.div_nome_campo.show();break;case ELEMENTO_TIPO.EDITOR_TEXTO:t.div_tamanho.hide(),t.div_linhas.hide(),t.div_decimais.hide(),t.div_opcoes.hide(),t.div_anexo.hide(),t.div_mascara.hide(),t.div_texto_ajuda.show(),t.div_cabecalho.show(),t.div_texto_fixo.hide(),t.div_totalizador.show(),t.cbo_totalizador.find('[value="3"]').hide(),t.cbo_totalizador.find('[value="4"]').hide(),t.cbo_totalizador.selectpicker("refresh"),t.div_integracao.hide(),t.div_data.hide(),t.div_opcoes_evento.find(".active").removeClass("active"),t.list_alterar.addClass("active"),t.list_selecionar.addClass("hidden"),t.list_limpar.addClass("hidden"),t.list_alterar.removeClass("hidden"),t.div_limpar.addClass("hidden"),t.div_selecionar.addClass("hidden"),t.div_alterar.removeClass("hidden"),t.tr_obrigatorio.show(),t.tr_bloqueado.show(),t.tr_oculto.show(),t.tr_exibir_impressao.show(),t.tr_selecao_multipla_integracao.hide(),t.campo_de_tabela||t.tr_habilitar_historico_texto.show(),t.div_documento.hide(),t.tr_exibir_descricao.hide(),t.campo_de_tabela||t.tr_exibir_coluna.hide(),t.div_clicar.addClass("hidden"),t.list_clicar.addClass("hidden"),t.div_tipo_opcoes.hide(),t.div_nome_campo.show()}}),this.edt_nome.unbind("keyup").keyup(function(){if(!t.edt_id_elemento.prop("disabled")){var o=removerAcentos(t.edt_nome.val().replaceAll(" ","_")).replaceAll(/\W/g,"").toLowerCase().substr(0,20),a=o.substr(0,1);""==a||isNaN(a)||(o="c"+o),t.edt_id_elemento.val(o).trigger("change")}}),this.edt_id_elemento.unbind("keypress").bind("keypress",function(o){if(!new RegExp("^[_0-9a-zA-Z\b]+$").test(o.key))return o.preventDefault(),!1}),this.recalcular_construtor_filtros=function(){if(t.campo.filter_builder_obrigatorio&&t.campo.filter_builder_obrigatorio.length){let o=[...t.campo.filter_builder_obrigatorio];t.localizar_campo_envolvido(t.campo.filter_builder_obrigatorio,"obrigatorio",!0),t.localizar_campo_envolvido(o,"obrigatorio",!1,o)}if(t.campo.filter_builder_bloqueado&&t.campo.filter_builder_bloqueado.length){let o=[...t.campo.filter_builder_bloqueado];t.localizar_campo_envolvido(t.campo.filter_builder_bloqueado,"bloqueado",!0),t.localizar_campo_envolvido(o,"bloqueado",!1,o)}if(t.campo.filter_builder_oculto&&t.campo.filter_builder_oculto.length){let o=[...t.campo.filter_builder_oculto];t.localizar_campo_envolvido(t.campo.filter_builder_oculto,"oculto",!0),t.localizar_campo_envolvido(o,"oculto",!1,o)}return t.evento_iniciar_construtor},this.salvar=function(){t.campo.extensoes_campo_anexo=t.dxDiagram.getDataSource().items();var o=new Validation;if(""==t.edt_nome.val().trim()&&parseInt(t.cbo_tipo.val(),10)!=ELEMENTO_TIPO.TEXTO_FIXO?o.add(new ValidationMessage(Validation.CODES.ERR,"Informe o rótulo")):parseInt(t.cbo_tipo.val(),10)==ELEMENTO_TIPO.TEXTO_FIXO&&get_tinymce(t.edt_texto_fixo).length<1&&o.add(new ValidationMessage(Validation.CODES.ERR,"Informe o texto fixo")),""==t.edt_id_elemento.val().trim()||null==t.edt_id_elemento.val())o.add(new ValidationMessage(Validation.CODES.ERR,"Informe um ID para o campo"));else{var a=t.edt_id_elemento.val().substr(0,1);"_"==a&&o.add(new ValidationMessage(Validation.CODES.ERR,"O nome do campo não pode começar com um underline.")),isNaN(a)||o.add(new ValidationMessage(Validation.CODES.ERR,"O nome do campo não pode começar com um número."));for(var i=["ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","BEFORE","BETWEEN","BIGINT","BINARY","BLOB","BOTH","BY","CASCADE","CASE","CHANGE","CHAR","CHARACTER","CHECK","COLLATE","COLUMN","COLUMNS","CONSTRAINT","CONVERT","CREATE","CROSS","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DEC","DECIMAL","DEFAULT","DELAYED","DELETE","DESC","DESCRIBE","DISTINCT","DISTINCTROW","DIV","DOUBLE","DROP","DUAL","ELSE","ENCLOSED","ESCAPED","EXISTS","EXPLAIN","FALSE","FIELDS","FLOAT","FLOAT4","FLOAT8","FOR","FORCE","FOREIGN","FROM","FULLTEXT","GRANT","GROUP","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IN","INDEX","INFILE","INNER","INSERT","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","INTERVAL","INTO","IS","JOIN","KEY","KEYS","KILL","LEADING","LEFT","LIKE","LIMIT","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LONG","LONGBLOB","LONGTEXT","LOW_PRIORITY","MATCH","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","NATURAL","NOT","NO_WRITE_TO_BINLOG","NULL","NUMERIC","ON","OPTIMIZE","OPTION","OPTIONALLY","OR","ORDER","OUTER","OUTFILE","PRECISION","PRIMARY","PRIVILEGES","PROCEDURE","PURGE","READ","REAL","REFERENCES","REGEXP","RENAME","REPLACE","REQUIRE","RESTRICT","REVOKE","RIGHT","RLIKE","SECOND_MICROSECOND","SELECT","SEPARATOR","SET","SHOW","SMALLINT","SONAME","SPATIAL","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STRAIGHT_JOIN","TABLE","TABLES","TERMINATED","THEN","TINYBLOB","TINYINT","TINYTEXT","TO","TRAILING","TRUE","UNION","UNIQUE","UNLOCK","UNSIGNED","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","VARBINARY","VARCHAR","VARCHARACTER","VARYING","WHEN","WHERE","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL","main","obj_solicitacao","ID","parametros"],e=0;e<i.length;e++){var d=i[e];t.edt_id_elemento.val().toUpperCase()==d.toUpperCase()&&o.add(new ValidationMessage(Validation.CODES.ERR,"O nome do campo não pode ser "+d+" pois a mesma é uma palavra reservada"))}for(e=0;e<t.arr_grupos.length;e++)for(var l=t.arr_grupos[e],_=0;_<l.elementos.length;_++){var c=l.elementos[_];if(void 0!==c.id_elemento&&t.edt_id_elemento.val().toLowerCase()==c.id_elemento.toLowerCase()&&t.campo.elem_key!=c.elem_key&&(c.tipo==ELEMENTO_TIPO.TABELA?o.add(new ValidationMessage(Validation.CODES.ERR,"O id informado já está sendo utilizado pela tabela: "+c.nome)):o.add(new ValidationMessage(Validation.CODES.ERR,"O id informado já está sendo utilizado pelo campo: "+c.nome))),c.tipo==ELEMENTO_TIPO.TABELA)for(var r=0;r<c.campos.length;r++){var s=c.campos[r];void 0!==s.id_elemento&&t.edt_id_elemento.val().toLowerCase()==s.id_elemento.toLowerCase()&&t.campo.elem_key!=s.elem_key&&o.add(new ValidationMessage(Validation.CODES.ERR,"O id informado já está sendo utilizado pelo campo: "+s.nome+" da tabela: "+c.nome))}}"undefined"!=typeof tabela_id&&tabela_id&&t.edt_id_elemento.val().toLowerCase()==t.tabela_id.toLowerCase()&&o.add(new ValidationMessage(Validation.CODES.ERR,"O id informado já está sendo utilizado pela tabela de origem"))}if(parseInt(t.cbo_tipo.val(),10)!=ELEMENTO_TIPO.TEXTO&&parseInt(t.cbo_tipo.val(),10)!=ELEMENTO_TIPO.MASCARA||(isNaN(t.edt_tamanho.val().trim())?o.add(new ValidationMessage(Validation.CODES.ERR,"Informe o tamanho utilizando somente números")):parseInt(t.edt_tamanho.val().trim(),10)>0||o.add(new ValidationMessage(Validation.CODES.ERR,"Informe o tamanho"))),parseInt(t.cbo_tipo.val(),10)==ELEMENTO_TIPO.TEXTO&&(isNaN(t.edt_linhas.val().trim())?o.add(new ValidationMessage(Validation.CODES.ERR,"Informe a quantidade de linhas utilizando somente números")):parseInt(t.edt_linhas.val().trim(),10)>0||o.add(new ValidationMessage(Validation.CODES.ERR,"Informe a quantidade de linhas"))),parseInt(t.cbo_tipo.val(),10)==ELEMENTO_TIPO.DECIMAL&&(isNaN(t.edt_decimais.val().trim())?o.add(new ValidationMessage(Validation.CODES.ERR,"Informe a quantidade de casas decimais utilizando somente números")):parseInt(t.edt_decimais.val().trim(),10)>0||o.add(new ValidationMessage(Validation.CODES.ERR,"Informe a quantidade de casas decimais"))),parseInt(t.cbo_tipo.val(),10)==ELEMENTO_TIPO.INTEGRACAO&&((t.cbo_consulta_integracao.val()<0||""==t.cbo_consulta_integracao.val())&&o.add(new ValidationMessage(Validation.CODES.ERR,"Informe a consulta de integração.")),t.cbo_consulta_integracao.val()>0&&(t.cbo_colunas.val()<0||""==t.cbo_colunas.val())&&o.add(new ValidationMessage(Validation.CODES.ERR,"Informe a descrição do campo de integração."))),parseInt(t.cbo_tipo.val(),10)==ELEMENTO_TIPO.SELECAO_DOCUMENTO&&(!t.campo.documento_pasta_id||""==t.campo.documento_pasta_id||t.campo.documento_pasta_id<=0)&&o.add(new ValidationMessage(Validation.CODES.ERR,"Informe a pasta de documentos")),parseInt(t.cbo_tipo.val(),10)==ELEMENTO_TIPO.OPCOES&&(0==t.campo_opcoes_data_source.length&&o.add(new ValidationMessage(Validation.CODES.ERR,"Informe as opções")),parseInt(t.tipo_lista_opcoes,10)==TIPO_LISTA_OPCOES.OPTION||parseInt(t.tipo_lista_opcoes,10)==TIPO_LISTA_OPCOES.RADIO)){for(var n=0,h=0;h<t.campo_opcoes_data_source.length;h++){void 0!==(m=t.campo_opcoes_data_source[h]).valor&&""!=m.valor.trim()&&void 0!==m.padrao&&!0===m.padrao&&n++}n>1&&o.add(new ValidationMessage(Validation.CODES.ERR,"Selecione somente uma opção padrão na listagem"))}if(parseInt(t.cbo_tipo.val(),10)==ELEMENTO_TIPO.ANEXO&&(parseInt(t.cbo_assunto.val(),10)>0||o.add(new ValidationMessage(Validation.CODES.ERR,"Informe o assunto")),parseInt(t.cbo_tipo_documento.val(),10)>0||o.add(new ValidationMessage(Validation.CODES.ERR,"Informe o tipo de documento"))),isNaN(t.edt_colunas.val().trim())?o.add(new ValidationMessage(Validation.CODES.ERR,"Informe a quantidade de colunas utilizando somente números")):parseInt(t.edt_colunas.val().trim(),10)>0||o.add(new ValidationMessage(Validation.CODES.ERR,"Informe a quantidade de colunas")),parseInt(t.cbo_tipo.val(),10)==ELEMENTO_TIPO.INTEGRACAO){var p=!0;$(t.campo.arr_condicoes_integracao_em_edicao).each(function(o,a){""!=a.condicao&&""!=a.ligacao&&""!=a.coluna_consulta&&""!=a.campo_formulario_id&&null!=a.condicao&&null!=a.ligacao&&null!=a.coluna_consulta&&null!=a.campo_formulario_id||(p=!1)}),p||o.add(new ValidationMessage(Validation.CODES.ERR,"Informe todos os valores referente a consulta"))}if(o.is_valid()){void 0===t.campo.elem_key&&(t.campo.elem_key=String((new Date).getTime())+String(Math.round(1e4*Math.random()))+String((new Date).getTime())+String(Math.round(1e4*Math.random()))),t.campo.arr_condicoes_integracao=t.campo.arr_condicoes_integracao_em_edicao,t.campo.nome=8==t.cbo_tipo.val()?get_tinymce(t.edt_texto_fixo):t.edt_nome.val(),t.campo.ajuda=t.edt_texto_ajuda.val(),t.campo.tipo=t.cbo_tipo.val(),t.campo.tamanho=t.edt_tamanho.val().trim(),t.campo.linhas=t.edt_linhas.val().trim(),t.campo.decimais=t.edt_decimais.val().trim(),t.campo.tipo_totalizador=t.cbo_totalizador.val()>0?t.cbo_totalizador.val():null,t.campo_opcoes=[],t.campo_opcoes_padrao=[];for(h=0;h<t.campo_opcoes_data_source.length;h++){var m;void 0!==(m=t.campo_opcoes_data_source[h]).valor&&""!=m.valor.trim()&&(t.campo_opcoes.push(m.valor),void 0!==m.padrao&&!0===m.padrao&&t.campo_opcoes_padrao.push(m.valor))}t.campo.opcoes=clone_obj(t.campo_opcoes),t.campo.opcoes_padrao=clone_obj(t.campo_opcoes_padrao),t.campo.id_elemento=t.edt_id_elemento.val(),t.campo.coluna_consulta_integracao_id=t.cbo_colunas.val(),t.campo.consulta_id=t.cbo_consulta_integracao.val(),t.campo.coluna_consulta_integracao_nome=t.cbo_colunas.find('[value="'+t.cbo_colunas.val()+'"]').attr("nome"),t.campo.evento_selecionar=t.editor_selecionar.getValue(),t.campo.evento_limpar=t.editor_limpar.getValue(),t.campo.evento_alterar=t.editor.getValue(),t.campo.evento_clicar=t.editor_clicar.getValue(),t.campo.style=t.editor_style.getValue(),t.campo.tipo_lista_opcoes=parseInt(t.cbo_tipo.val(),10)==ELEMENTO_TIPO.OPCOES?t.tipo_lista_opcoes:null,parseInt(t.cbo_tipo.val(),10)==ELEMENTO_TIPO.INTEGRACAO?t.campo.evento_alterar=null:parseInt(t.cbo_tipo.val(),10)==ELEMENTO_TIPO.OPCOES&&(t.campo.evento_selecionar=null),t.campo.banco_dados_nome=t.cbo_consulta_integracao.find('[value="'+t.cbo_consulta_integracao.val()+'"]').attr("banco_dados_nome"),t.campo.quebrar_linha=t.chk_quebrar_linha.prop("checked"),t.campo.obrigatorio="S"==t.selectBox_obrigatorioInstance.option("value")||"N"!=t.selectBox_obrigatorioInstance.option("value")&&t.selectBox_obrigatorioInstance.option("value"),t.campo.filter_builder_obrigatorio="Q"===t.campo.obrigatorio?t.campo.filter_builder_obrigatorio:null,t.campo.bloqueado="S"==t.selectBox_bloqueadoInstance.option("value")||"N"!=t.selectBox_bloqueadoInstance.option("value")&&t.selectBox_bloqueadoInstance.option("value"),t.campo.filter_builder_bloqueado="Q"===t.campo.bloqueado?t.campo.filter_builder_bloqueado:null,t.campo.oculto="S"==t.selectBox_ocultoInstance.option("value")||"N"!=t.selectBox_ocultoInstance.option("value")&&t.selectBox_ocultoInstance.option("value"),t.campo.filter_builder_oculto="Q"===t.campo.oculto?t.campo.filter_builder_oculto:null,t.campo.colunas=t.edt_colunas.val(),t.campo.mascara=t.edt_mascara.val(),t.campo.exibir_descricao=t.chk_exibir_descricao.prop("checked"),t.campo.exibir_coluna=t.chk_exibir_coluna.prop("checked"),t.campo.exibir_impressao=t.chk_exibir_impressao.prop("checked"),t.campo.selecao_multipla_integracao=t.chk_selecao_multipla_integracao.prop("checked"),t.campo.habilitar_historico_texto=t.chk_habilitar_historico_texto.prop("checked"),t.campo.exibir_previsao_imagem=t.chk_exibir_previsao_imagem.prop("checked"),t.campo.apagar_arquivo_conclusao=t.chk_apagar_arquivo_conclusao.prop("checked"),t.campo.assunto_id=t.cbo_assunto.val(),t.campo.tipo_documento_id=t.cbo_tipo_documento.val(),t.campo.tamanho_coluna=t.edt_tamanho_coluna.val(),t.campo.data_retroativa=t.chk_retroativo.prop("checked"),t.campo.data_retroativa_igual=t.chk_retroativo_igual.prop("checked"),void 0!==t.onsave&&t.onsave&&t.onsave(t.campo,t.evento_iniciar_construtor),t.unload()}else alertaPopUp("Validação",o)},this.edt_id_elemento.on("change",function(o){""!==$(this).val().trim()&&null!==$(this).val()&&(t.campo.id_elemento=$(this).val(),t.recalcular_construtor_filtros())}),this.btn_add_condicao_integracao.unbind("click"),this.btn_add_condicao_integracao.click(function(){t.btn_add_condicao_integracao.attr("disabled",!0);t.render_condicao_integracao({sequencia:0,coluna_consulta:null,campo_formulario_id:null,condicao:null,ligacao:null,sql_final:null})}),this.edt_id_elemento.unbind("blur").bind("blur",function(){var o=removerAcentos(t.edt_id_elemento.val()).replaceAll(/\W/g,"").toLowerCase().substr(0,20);t.edt_id_elemento.val(o)}),this.btn_nova_consulta.unbind("click"),this.btn_nova_consulta.click(function(){View.load("consulta_integracao/detalhes",function(o,a){a.onclose=function(){t.listar_consulta_integracao(a.consulta_id)},a.show(null,FORMULARIO.NOVO)})}),this.list_selecionar.unbind("click"),this.list_selecionar.click(function(){t.div_opcoes_evento.find(".active").removeClass("active"),t.list_selecionar.addClass("active"),t.div_selecionar.removeClass("hidden"),t.div_limpar.addClass("hidden"),t.div_alterar.addClass("hidden")}),this.list_limpar.unbind("click"),this.list_limpar.click(function(){t.div_opcoes_evento.find(".active").removeClass("active"),t.list_limpar.addClass("active"),t.div_limpar.removeClass("hidden"),t.div_selecionar.addClass("hidden"),t.div_alterar.addClass("hidden")}),this.list_alterar.unbind("click"),this.list_alterar.click(function(){t.div_opcoes_evento.find(".active").removeClass("active"),t.list_alterar.addClass("active"),t.div_limpar.addClass("hidden"),t.div_selecionar.addClass("hidden"),t.div_alterar.removeClass("hidden")}),this.cbo_consulta_integracao.unbind("change"),this.cbo_consulta_integracao.change(function(){t.cbo_consulta_integracao.val()>0?(t.div_integracao_consulta.removeClass("hidden"),t.listar_colunas(t.campo.coluna_consulta_integracao_id,t.cbo_consulta_integracao.val())):t.div_integracao_consulta.addClass("hidden")}),this.btn_visualizar_consulta.unbind("click"),this.btn_visualizar_consulta.click(function(){t.cbo_consulta_integracao.val()>0&&View.load("consulta_integracao/detalhes",function(o,a){a.show(t.cbo_consulta_integracao.val(),FORMULARIO.VISUALIZAR)})}),this.btn_assunto_visualizar.unbind("click"),this.btn_assunto_visualizar.click(function(){""!=t.cbo_assunto.val()&&View.load("assunto/detalhes",function(o,a){a.show(t.cbo_assunto.val(),FORMULARIO.VISUALIZAR)})}),this.btn_assunto_novo.unbind("click"),this.btn_assunto_novo.click(function(){View.load("assunto/detalhes",function(o,a){a.onclose=function(){a.assunto_id&&t.listar_assunto(a.assunto_id)},a.show(null,FORMULARIO.NOVO)})}),this.btn_tipo_documento_visualizar.unbind("click"),this.btn_tipo_documento_visualizar.click(function(){""!=t.cbo_tipo_documento.val()&&View.load("tipo_documento/detalhes",function(o,a){a.show(t.cbo_tipo_documento.val(),FORMULARIO.VISUALIZAR)})}),this.btn_tipo_documento_novo.unbind("click"),this.btn_tipo_documento_novo.click(function(){View.load("tipo_documento/detalhes",function(o,a){a.onclose=function(){a.tipo_documento_id&&t.listar_tipo_documento(a.tipo_documento_id)},a.show(null,FORMULARIO.NOVO)})}),t.btn_obrigatorio_condicao.dxButton({icon:"fas fa-filter",height:"32px",onClick:function(){if(null===t.edt_id_elemento.val()||""===t.edt_id_elemento.val().trim())return alertaValidacao("Validação","Informe o ID do campo antes de continuar"),!1;var o=null;alertaPopUp("Construtor de filtro",function(a){o=dx_Filter_Builder({div_html:a,fields:{grupos:t.arr_grupos},valor:t.campo.filter_builder_obrigatorio})},"confirmar",function(){var a=o.option("value"),i="obrigatorio";t.localizar_campo_envolvido(t.campo.filter_builder_obrigatorio,i,!0),t.campo.filter_builder_obrigatorio=a,t.localizar_campo_envolvido(a,i,!1,a),l()},null,null,"50%")}}),t.btn_bloqueado_condicao.dxButton({icon:"fas fa-filter",height:"32px",onClick:function(){if(null===t.edt_id_elemento.val()||""===t.edt_id_elemento.val().trim())return alertaValidacao("Validação","Informe o ID do campo antes de continuar"),!1;var o=null;alertaPopUp("Construtor de filtro",function(a){o=dx_Filter_Builder({div_html:a,fields:{grupos:t.arr_grupos},valor:t.campo.filter_builder_bloqueado})},"confirmar",function(){var a=o.option("value"),i="bloqueado";t.localizar_campo_envolvido(t.campo.filter_builder_bloqueado,i,!0),t.campo.filter_builder_bloqueado=a,t.localizar_campo_envolvido(a,i,!1,a),l()},null,null,"50%")}}),t.btn_oculto_condicao.dxButton({icon:"fas fa-filter",height:"32px",onClick:function(){if(null===t.edt_id_elemento.val()||""===t.edt_id_elemento.val().trim())return alertaValidacao("Validação","Informe o ID do campo antes de continuar"),!1;var o=null;alertaPopUp("Construtor de filtro",function(a){o=dx_Filter_Builder({div_html:a,fields:{grupos:t.arr_grupos},valor:t.campo.filter_builder_oculto})},"confirmar",function(){var a=o.option("value"),i="oculto";t.localizar_campo_envolvido(t.campo.filter_builder_oculto,i,!0),t.campo.filter_builder_oculto=a,t.localizar_campo_envolvido(a,i,!1,a),l()},null,null,"50%")}}),this.btn_remover.unbind("click"),this.btn_remover.click(function(){alertaPopUp(t.title.text(),"Deseja remover o campo?","Remover",function(){void 0!==t.onremove&&t.onremove&&t.onremove(t.campo),t.unload()},"Cancelar")}),this.btn_fullscreen_estilo.off("click").on("click",()=>{alert_warning('Para sair do modo "Tela Cheia" pressione a tecla "ESC"'),t.edt_style.closest(".modal").children().toggleClass("modal-dialog"),t.editor_style.setOption("fullScreen",!t.editor_style.getOption("fullScreen")),t.editor_style.focus()}),this.btn_fullscreen_selecionar.off("click").on("click",()=>{alert_warning('Para sair do modo "Tela Cheia" pressione a tecla "ESC"'),t.edt_selecionar.closest(".modal").children().toggleClass("modal-dialog"),t.editor_selecionar.setOption("fullScreen",!t.editor_selecionar.getOption("fullScreen")),t.editor_selecionar.focus()}),this.btn_fullscreen_limpar.off("click").on("click",()=>{alert_warning('Para sair do modo "Tela Cheia" pressione a tecla "ESC"'),t.edt_limpar.closest(".modal").children().toggleClass("modal-dialog"),t.editor_limpar.setOption("fullScreen",!t.editor_limpar.getOption("fullScreen")),t.editor_limpar.focus()}),this.btn_fullscreen_clicar.off("click").on("click",()=>{alert_warning('Para sair do modo "Tela Cheia" pressione a tecla "ESC"'),t.edt_clicar.closest(".modal").children().toggleClass("modal-dialog"),t.editor_clicar.setOption("fullScreen",!t.editor_clicar.getOption("fullScreen")),t.editor_clicar.focus()}),this.btn_fullscreen_alterar.off("click").on("click",()=>{alert_warning('Para sair do modo "Tela Cheia" pressione a tecla "ESC"'),t.edt_alterar.closest(".modal").children().toggleClass("modal-dialog"),t.editor.setOption("fullScreen",!t.editor.getOption("fullScreen")),t.editor.focus()})}});