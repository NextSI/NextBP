"use strict";define(["react","react-dom","react-input-mask"],function(e,o,p){class a extends e.Component{constructor(e){super(e),this.state={CampoCep:null,CampoCepLeitura:!1,cep_obrigatorio:!1},this.handleBuscarCep=this.handleBuscarCep.bind(this),this.props.objEndereco={},this.props.CampoCep=null,this.props.CampoEndereco=null,this.props.CampoBairro=null,this.props.CampoCidade=null,this.props.CampoUF=null,this.props.CampoPais=null,this.props.CodigoMunicipio=null,this.props.CodigoPais=null,this.props.FuncCodigoMunicipio=null,this.props.FuncCodigoPais=null,this.props.setCampoBairro=e=>{this.props.CampoBairro=e},this.props.setCampoCidade=(e,o,p)=>{this.props.CampoCidade=e,this.props.CampoUF=o,this.props.FuncCodigoMunicipio=p},this.props.setCampoEndereco=e=>{this.props.CampoEndereco=e},this.props.setCampoPais=(e,o)=>{this.props.CampoPais=e,this.props.FuncCodigoPais=o},this.props.setCampoCep=e=>{this.props.CampoCep=e,this.setState({CampoCep:e})},this.props.setCampoCepLeitura=e=>{this.setState({CampoCepLeitura:e})},this.props.set_cepObrigatorio=e=>{this.setState({cep_obrigatorio:e})}}buscar_cep(e){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],p=this;WS.get("consulta/cep/",{cep:e},function(e){if(e)try{p.props.objEndereco=JSON.parse(e),parseInt(p.props.objEndereco.resultado)?(!o&&p.props.CampoEndereco&&p.props.CampoEndereco.val(p.props.objEndereco.tipo_logradouro+" "+p.props.objEndereco.logradouro),!o&&p.props.CampoBairro&&p.props.CampoBairro.val(p.props.objEndereco.bairro),p.props.CampoCidade&&WS.get("municipio/listar/",{municipio:p.props.objEndereco.cidade,uf_sigla:p.props.objEndereco.uf},function(e){if(1==e.length){const o=e[0];p.props.CodigoMunicipio=o.cod_municipio,p.props.CampoCidade.val(o.municipio),p.props.CampoUF&&p.props.CampoUF.text(o.uf_sigla),p.props.FuncCodigoMunicipio()}}),p.props.CampoPais&&(p.props.CodigoPais=1058,p.props.CampoPais.val("BRASIL"),p.props.FuncCodigoPais())):alert_modal('<i class="fa fa-exclamation-triangle pull-left" aria-hidden="true"></i> Atenção !',"Cep Inválido !")}catch(e){window.alert_fail("Ocorreu uma falha na consulta de CEP. Verifique o erro no Console do Inspetor Web."),console.log("Erro na consulta de CEP"),console.log(e)}else alert_modal('<i class="fa fa-exclamation-triangle pull-left" aria-hidden="true"></i> Atenção !',"Tempo limite excedido, Deseja tentar novamente ?",'<i class="fa fa-redo-alt" aria-hidden="true"></i> Tentar Novamente',function(){p.buscar_cep(p.props.CampoCep)},!0)})}handleBuscarCep(e){this.buscar_cep(null==this.props.CampoCep?"":this.props.CampoCep.substring(0,10),e.currentTarget.classList.contains("origem_input_cnpj")),e.currentTarget.classList.remove("origem_input_cnpj")}handleAlterarCep(e){this.setState({CampoCep:e.target.value}),this.props.CampoCep=e.target.value}render(){let o=e.createElement("button",{type:"button",disabled:this.state.CampoCepLeitura,className:"btn btn-default btn_pesquisar",onClick:this.handleBuscarCep},e.createElement("span",{className:"glyphicon glyphicon-search"})),a=e.createElement("span",{className:"text-danger"},"*");return e.createElement("div",null,e.createElement("label",null,"CEP: ",this.state.cep_obrigatorio?a:""),e.createElement("div",{className:"input-group"},e.createElement(p,{mask:"99.999-999",disabled:this.state.CampoCepLeitura,value:this.state.CampoCep,className:"form-control",onChangeCapture:this.handleAlterarCep.bind(this)}),e.createElement("div",{className:"input-group-btn"},o)))}}return a});